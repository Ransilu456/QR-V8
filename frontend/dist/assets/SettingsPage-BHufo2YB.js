var e=Object.defineProperty,s=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,l=(s,r,a)=>r in s?e(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a,i=(e,s)=>{for(var r in s||(s={}))t.call(s,r)&&l(e,r,s[r]);if(a)for(var r of a(s))d.call(s,r)&&l(e,r,s[r]);return e},o=(e,a)=>s(e,r(a)),n=(e,s,r)=>new Promise(((a,t)=>{var d=e=>{try{i(r.next(e))}catch(s){t(s)}},l=e=>{try{i(r.throw(e))}catch(s){t(s)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(d,l);i((r=r.apply(e,s)).next())}));import{r as m,j as c,b as x}from"./vendor-D1DNIM4c.js";import{a as u,u as b,b as h,T as p}from"./index-B9AZMt1L.js";import{G as g,K as f,b as w}from"./ui-CfGEgmeW.js";const y=()=>{const{user:e,updateProfile:s,updatePassword:r}=u(),{theme:a,toggleTheme:t}=b(),[d,l]=m.useState({name:"",email:""}),[y,j]=m.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[k,v]=m.useState(!1),[N,P]=m.useState(!1);m.useEffect((()=>{e&&l({name:e.name||"",email:e.email||""})}),[e]);const C=e=>{const{name:s,value:r}=e.target;l((e=>o(i({},e),{[s]:r})))},S=e=>{const{name:s,value:r}=e.target;j((e=>o(i({},e),{[s]:r})))},O={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:24}}};return c.jsxs(x.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},className:"py-4 sm:py-6",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:c.jsx(x.h1,{variants:O,className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent dark:from-blue-400 dark:to-indigo-400",children:"Settings"})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:c.jsxs("div",{className:"mt-6 sm:mt-8 space-y-6 sm:space-y-8",children:[c.jsxs(x.div,{variants:O,className:"bg-white dark:bg-slate-800 shadow overflow-hidden sm:rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-200",children:[c.jsx("div",{className:"px-4 py-4 sm:py-5 sm:px-6 border-b border-gray-200 dark:border-slate-700",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full",children:c.jsx(g,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-base sm:text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Profile Settings"}),c.jsx("p",{className:"mt-1 max-w-2xl text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Update your personal information"})]})]})}),c.jsx("div",{className:"px-4 py-4 sm:py-5 sm:p-6",children:c.jsxs("form",{onSubmit:e=>n(void 0,null,(function*(){var r,a;e.preventDefault();try{v(!0),yield s(d),p.success("Profile updated successfully")}catch(t){p.error((null==(a=null==(r=t.response)?void 0:r.data)?void 0:a.message)||"Failed to update profile")}finally{v(!1)}})),className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 sm:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),c.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:d.name,onChange:C,className:"mt-1 block w-full shadow-sm text-xs sm:text-sm border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-md focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),c.jsx("input",{type:"email",name:"email",id:"email",required:!0,value:d.email,onChange:C,className:"mt-1 block w-full shadow-sm text-xs sm:text-sm border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-md focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400"})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(x.button,{type:"submit",disabled:k,className:"inline-flex items-center px-3 py-1.5 sm:px-4 sm:py-2 border border-transparent text-xs sm:text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",whileHover:{scale:1.02},whileTap:{scale:.98},children:k?c.jsxs("span",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 sm:h-5 sm:w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Profile"})})]})})]}),c.jsxs(x.div,{variants:O,className:"bg-white dark:bg-slate-800 shadow overflow-hidden sm:rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-200",children:[c.jsx("div",{className:"px-4 py-4 sm:py-5 sm:px-6 border-b border-gray-200 dark:border-slate-700",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 bg-indigo-100 dark:bg-indigo-900/30 p-2 rounded-full",children:c.jsx(f,{className:"h-5 w-5 sm:h-6 sm:w-6 text-indigo-600 dark:text-indigo-400"})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-base sm:text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Password Settings"}),c.jsx("p",{className:"mt-1 max-w-2xl text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Update your password"})]})]})}),c.jsx("div",{className:"px-4 py-4 sm:py-5 sm:p-6",children:c.jsxs("form",{onSubmit:e=>n(void 0,null,(function*(){var s,a;if(e.preventDefault(),y.newPassword===y.confirmPassword)if(y.newPassword.length<8)p.error("New password must be at least 8 characters long");else try{P(!0),yield r(y.currentPassword,y.newPassword),j({currentPassword:"",newPassword:"",confirmPassword:""}),p.success("Password updated successfully")}catch(t){p.error((null==(a=null==(s=t.response)?void 0:s.data)?void 0:a.message)||"Failed to update password")}finally{P(!1)}else p.error("New passwords do not match")})),className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"currentPassword",className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Current Password"}),c.jsx("input",{type:"password",name:"currentPassword",id:"currentPassword",required:!0,value:y.currentPassword,onChange:S,className:"mt-1 block w-full shadow-sm text-xs sm:text-sm border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-md focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"newPassword",className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Password"}),c.jsx("input",{type:"password",name:"newPassword",id:"newPassword",required:!0,value:y.newPassword,onChange:S,className:"mt-1 block w-full shadow-sm text-xs sm:text-sm border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-md focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Password must be at least 8 characters long"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),c.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",required:!0,value:y.confirmPassword,onChange:S,className:"mt-1 block w-full shadow-sm text-xs sm:text-sm border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-md focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400"})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(x.button,{type:"submit",disabled:N,className:"inline-flex items-center px-3 py-1.5 sm:px-4 sm:py-2 border border-transparent text-xs sm:text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",whileHover:{scale:1.02},whileTap:{scale:.98},children:N?c.jsxs("span",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 sm:h-5 sm:w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Password"})})]})})]}),c.jsxs(x.div,{variants:O,className:"bg-white dark:bg-slate-800 shadow overflow-hidden sm:rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-200",children:[c.jsx("div",{className:"px-4 py-4 sm:py-5 sm:px-6 border-b border-gray-200 dark:border-slate-700",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 bg-cyan-100 dark:bg-cyan-900/30 p-2 rounded-full",children:c.jsx(w,{className:"h-5 w-5 sm:h-6 sm:w-6 text-cyan-600 dark:text-cyan-400"})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-base sm:text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Application Settings"}),c.jsx("p",{className:"mt-1 max-w-2xl text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Configure application preferences"})]})]})}),c.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700",children:c.jsx("dl",{children:c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/30 px-4 py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-300",children:"Theme"}),c.jsx("dd",{className:"mt-1 text-xs sm:text-sm text-gray-900 dark:text-white sm:mt-0 sm:col-span-2",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm sm:text-base font-medium text-gray-900 dark:text-white",children:"Appearance"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Choose between light and dark mode"})]}),c.jsxs("div",{className:"flex items-center space-x-3 mt-2 sm:mt-0",children:[c.jsx(h,{}),c.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"dark"===a?"Dark Mode":"Light Mode"})]})]})})]})})})]})]})})]})};export{y as default};
