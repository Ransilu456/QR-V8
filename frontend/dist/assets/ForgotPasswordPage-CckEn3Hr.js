import{r as e,j as s,b as t,L as r,A as a}from"./vendor-D1DNIM4c.js";import{a as i,u as l,T as n}from"./index-B9AZMt1L.js";import{A as d,i as o,h as c}from"./ui-CfGEgmeW.js";const x=()=>{const[x,m]=e.useState(""),[h,u]=e.useState(!1),{forgotPassword:p,loading:v,error:b}=i(),{theme:g}=l(),f="dark"===g,[y,j]=e.useState(!1),w={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return s.jsx(t.div,{className:`min-h-screen ${f?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-800":"bg-gradient-to-br from-blue-50 via-sky-50 to-cyan-100"} py-12 px-4 sm:px-6 lg:px-8 flex items-center justify-center`,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,when:"beforeChildren",staggerChildren:.1}}},initial:"hidden",animate:"visible",children:s.jsxs("div",{className:"max-w-5xl w-full flex rounded-xl shadow-2xl overflow-hidden "+(f?"bg-slate-800":"bg-white"),children:[s.jsxs("div",{className:"w-full lg:w-1/2 p-8 sm:p-12",children:[s.jsx(t.div,{variants:w,children:s.jsxs(r,{to:"/login",className:`flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 ${f?"text-blue-400 hover:text-blue-300":""} mb-6`,children:[s.jsx(d,{className:"w-4 h-4 mr-1"}),"Back to login"]})}),s.jsxs(t.div,{variants:w,className:"mb-8",children:[s.jsx("h2",{className:`text-3xl font-extrabold ${f?"text-white":"text-gray-900"} mb-2`,children:"Forgot your password?"}),s.jsx("p",{className:"text-sm "+(f?"text-gray-300":"text-gray-600"),children:"Enter your email address and we'll send you a link to reset your password."})]}),h?s.jsx(t.div,{variants:w,className:`rounded-md ${f?"bg-green-900/30 border-green-800":"bg-green-50 border-green-200"} p-6 border mb-6`,children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 "+(f?"text-green-300":"text-green-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-lg font-medium "+(f?"text-green-200":"text-green-800"),children:"Reset instructions sent"}),s.jsx("div",{className:"mt-2 text-sm "+(f?"text-green-300":"text-green-700"),children:s.jsxs("p",{children:["We've sent password reset instructions to ",s.jsx("span",{className:"font-medium",children:x}),". Please check your email."]})}),s.jsx("div",{className:"mt-4",children:s.jsx(t.div,{className:"-mx-2 -my-1.5 flex",whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsx(r,{to:"/login",className:"px-4 py-2 rounded-md text-sm font-medium "+(f?"bg-green-800/50 text-green-200 hover:bg-green-800":"bg-green-100 text-green-800 hover:bg-green-200"),children:"Return to login"})})})]})]})}):s.jsxs(t.form,{className:"space-y-6",onSubmit:e=>{return s=void 0,t=null,r=function*(){if(e.preventDefault(),!x.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x))return j(!0),void n.error("Please enter a valid email address");try{yield p(x),u(!0),n.success("Reset instructions sent to your email")}catch(s){n.error(b||"Failed to send reset email. Please try again.")}},new Promise(((a,i)=>{var l=s=>{try{d(r.next(s))}catch(e){i(e)}},n=s=>{try{d(r.throw(s))}catch(e){i(e)}},d=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,n);d((r=r.apply(s,t)).next())}));var s,t,r},variants:w,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email-address",className:"block mb-2 text-sm font-medium "+(f?"text-gray-300":"text-gray-900"),children:"Email address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(o,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),s.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:x,onChange:e=>m(e.target.value),className:`${f?"bg-slate-700 border-slate-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900"} appearance-none rounded-md relative block w-full pl-10 px-3 py-2 border ${!y||x.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)?"focus:ring-blue-500 focus:border-blue-500":f?"bg-red-900/30 border-red-600 text-red-300 placeholder-red-400 focus:ring-red-500 focus:border-red-500":"border-red-300 focus:ring-red-500 focus:border-red-500"} focus:outline-none focus:z-10 sm:text-sm`,placeholder:"you@example.com",onBlur:()=>j(!0)})]}),s.jsx(a,{children:y&&(!x.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x))&&s.jsx(t.p,{className:"mt-2 text-sm "+(f?"text-red-400":"text-red-600"),initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:"Please enter a valid email address"})})]}),b&&s.jsx("div",{className:`rounded-md ${f?"bg-red-900/30 border-red-800":"bg-red-50 border-red-200"} p-4 border`,children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(c,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium "+(f?"text-red-300":"text-red-800"),children:"Error"}),s.jsx("div",{className:"mt-1 text-sm "+(f?"text-red-300":"text-red-700"),children:s.jsx("p",{children:b})})]})]})}),s.jsx("div",{children:s.jsx(t.button,{type:"submit",disabled:v,className:"group relative flex w-full justify-center rounded-md bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 py-3 px-4 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:opacity-50 transition-all duration-300",whileHover:{scale:1.02,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},whileTap:{scale:.98},children:v?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsx(o,{className:"h-5 w-5 text-blue-300 group-hover:text-blue-200","aria-hidden":"true"})}),"Send reset instructions"]})})})]}),!h&&s.jsx(t.div,{variants:w,className:"flex items-center justify-center mt-6",children:s.jsx("div",{className:"text-sm",children:s.jsx(r,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 "+(f?"text-blue-400 hover:text-blue-300":""),children:"Remember your password? Log in"})})})]}),s.jsxs("div",{className:"hidden lg:block lg:w-1/2 bg-gradient-to-br from-blue-600 to-cyan-600 p-12 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[s.jsx("defs",{children:s.jsx("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:s.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),s.jsx("rect",{width:"100",height:"100",fill:"url(#grid)"})]})}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx(t.h2,{className:"text-3xl font-bold mb-6 text-white",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2,duration:.8},children:"Password Recovery"}),s.jsx(t.p,{className:"text-blue-100 mb-8 max-w-md",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4,duration:.8},children:"Don't worry! It happens to the best of us. Enter your email address and we'll send you instructions to reset your password."}),s.jsx(t.div,{className:"space-y-4",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6,duration:.8},children:["Secure password reset process","Email verification for added security","Quick and easy recovery","24/7 support available","Industry-standard encryption"].map(((e,t)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-5 w-5 text-blue-300 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})}),s.jsx("span",{children:e})]},t)))})]}),s.jsxs(t.div,{className:"mt-auto text-sm text-blue-200",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.8},children:[s.jsx("p",{children:"Â© 2025 Attendance System. All rights reserved."}),s.jsx("p",{className:"mt-1",children:"Powered by Ransilu Samarasekara."})]})]})]})]})})};export{x as default};
